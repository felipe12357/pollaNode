// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

generator erd {
  provider = "prisma-erd-generator"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_URL")
}

model MatchForecast {
  userId Int
  user User @relation(fields: [userId], references: [id])
  match Match @relation(fields: [matchId], references: [id])
  matchId Int 
  resultForeCast String ? @db.VarChar(7)
  @@unique([userId, matchId]) //esto es para q no se pueda repetir la combinacion
}

 model User {
  id Int @id @default(autoincrement())
  username String @db.VarChar(20)
  name String ? @db.VarChar(20)
  lastname String ? @db.VarChar(20)
  password String @db.VarChar(20)
  foreCast MatchForecast[]
} 

model Match {
  id Int @id @default(autoincrement())
  team1 String @db.VarChar(20)
  team2 String @db.VarChar(20)
  date DateTime @db.Timestamp()
  result String ? @db.VarChar(7)
  foreCast MatchForecast[]
}